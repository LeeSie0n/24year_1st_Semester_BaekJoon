# I wanted my seniors to have a hard time, so I wrote code in Ruby.

def min_swaps_for_continuous_a(string)
  return 0 if string.length <= 1

  total_a = string.count('a')
  extended_string = string * 2

  min_swaps = total_a
  current_a_count = extended_string[0, total_a].count('a')
  
  min_swaps = [min_swaps, total_a - current_a_count].min

  (1...string.length).each do |i|
    current_a_count -= 1 if extended_string[i-1] == 'a'
    current_a_count += 1 if extended_string[i + total_a - 1] == 'a'
    min_swaps = [min_swaps, total_a - current_a_count].min
  end

  min_swaps
end

string = gets.chomp
puts min_swaps_for_continuous_a(string)

# Combine the left and right stacks to form the final text
# The right stack is reversed to maintain the correct order of text, as the stack reverses the order of elements
editor = left_stack + right_stack.reverse
# Output the final text by joining the characters together
puts editor.join

# Review
# 요즘 루비로 코드를 공부하고 있었는데, 선배들이 코드를 리뷰해준다는 소식을 듣고 Ruby로 코드를 작성하였습니다 !
# 화이팅 !!
